<!DOCTYPE html>
<html>
	<head>
		<title>AutoFan</title>
		<script src="https://cdn.socket.io/socket.io-1.4.5.js"></script>
	</head>
	<body>
		<script type="text/javascript">
			var socket = io('http://192.168.0.106:1199');
			socket.on('fan-on', function(){
				console.log("on");
				document.getElementById("changer").checked = true;
			});
			socket.on('fan-off', function(){
				console.log("off");
				document.getElementById("changer").checked = false;
			});
			function fan_on() {
				socket.emit('fan-on');
			}
			function fan_off() {
				socket.emit('fan-off');
			}
			function change(value){
				if (value){
					fan_on();
				}else{
					fan_off();
				}
			}
		</script>
		<h1>AutoFan</h1>
		<input id="changer" type="checkbox" onchange="change(this.checked);">
		<label for="changer">LED</label>
	</body>
</html>